{"version":3,"file":"content-tabs/content-tabs.min.js","mappings":"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","sources":["webpack://msu-la/./node_modules/viewport-size/viewportSize.js","webpack://msu-la/webpack/bootstrap","webpack://msu-la/./blocks/content-tabs/content-tabs.js"],"sourcesContent":["ï»¿var getSize = function(Name) {\n\tvar size;\n\tvar name = Name.toLowerCase();\n\tvar document = window.document;\n\tvar documentElement = document.documentElement;\n\tif (window[\"inner\" + Name] === undefined) {\n\t\t// IE6 & IE7 don't have window.innerWidth or innerHeight\n\t\tsize = documentElement[\"client\" + Name];\n\t} else if (window[\"inner\" + Name] != documentElement[\"client\" + Name]) {\n\t\t// WebKit doesn't include scrollbars while calculating viewport size so we have to get fancy\n\n\t\t// Insert markup to test if a media query will match document.doumentElement[\"client\" + Name]\n\t\tvar bodyElement = document.createElement(\"body\");\n\t\tbodyElement.id = \"vpw-test-b\";\n\t\tbodyElement.style.cssText = \"overflow:scroll\";\n\t\tvar divElement = document.createElement(\"div\");\n\t\tdivElement.id = \"vpw-test-d\";\n\t\tdivElement.style.cssText = \"position:absolute;top:-1000px\";\n\t\t// Getting specific on the CSS selector so it won't get overridden easily\n\t\tdivElement.innerHTML = \"<style>@media(\" + name + \":\" + documentElement[\"client\" + Name] + \"px){body#vpw-test-b div#vpw-test-d{\" + name + \":7px!important}}</style>\";\n\t\tbodyElement.appendChild(divElement);\n\t\tdocumentElement.insertBefore(bodyElement, document.head);\n\n\t\tif (divElement[\"offset\" + Name] == 7) {\n\t\t\t// Media query matches document.documentElement[\"client\" + Name]\n\t\t\tsize = documentElement[\"client\" + Name];\n\t\t} else {\n\t\t\t// Media query didn't match, use window[\"inner\" + Name]\n\t\t\tsize = window[\"inner\" + Name];\n\t\t}\n\t\t// Cleanup\n\t\tdocumentElement.removeChild(bodyElement);\n\t} else {\n\t\t// Default to use window[\"inner\" + Name]\n\t\tsize = window[\"inner\" + Name];\n\t}\n\treturn size;\n};\n\nmodule.exports.getHeight = function() {\n\treturn getSize(\"Height\");\n};\n\nmodule.exports.getWidth = function() {\n\treturn getSize(\"Width\");\n};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","import viewportSize from 'viewport-size';\nconst contentTabs = document.querySelectorAll('.content-tabs');\n\nconst mobile = viewportSize.getWidth() < 768;\nwp.domReady(() => {\n  contentTabs.forEach(contentTabs => {\n    const tabs = contentTabs.querySelectorAll('.content-tab');\n    const panels = contentTabs.querySelectorAll('.content-tab-content');\n    let disabled = false;\n\n    panels.forEach((panel, index) => {\n      const size = panel.getBoundingClientRect();\n      panel.style.setProperty('--height', `${size.height}px`);\n      panel.dataset.index = index;\n      panel.classList.add('init');\n    });\n\n    // if (!mobile) {\n    panels[0].classList.add('show');\n    openPanel(panels[0]);\n    selectTab(panels[0]);\n    // }\n    tabs.forEach(tab => {\n      tab.addEventListener('click', e => {\n        if (disabled) {\n          return;\n        }\n        const panelId = tab.getAttribute('aria-controls');\n        const panel = document.querySelector(`#${panelId}`);\n        // if (mobile) {\n        //   if (panel.classList.contains('show')) {\n        //     panel.classList.remove('show');\n        //   } else {\n        //     panel.classList.add('show');\n        //   }\n        // } else {\n        if (!panel.classList.contains('open')) {\n          disabled = true;\n          const prevOpenPanel = Array.from(panels).filter(panel => panel.classList.contains('open'));\n\n          if (prevOpenPanel[0]) {\n            closePanel(prevOpenPanel[0], panel);\n            unSelectTab(prevOpenPanel[0]);\n            selectTab(panel);\n            setTimeout(() => {\n              openPanel(panel, prevOpenPanel[0]);\n            }, delay);\n          } else {\n            openPanel(panel);\n            selectTab(panel);\n          }\n          setTimeout(() => {\n            disabled = false;\n          }, delay * 2 + transition);\n        }\n        // }\n      });\n    });\n  });\n});\n\nconst transition = 450;\n// const transition = 1000;\nconst delay = 150;\n// const delay = 250;\nconst transform = 100;\n\nfunction selectTab(panel) {\n  const button = document.getElementById(panel.getAttribute('aria-labelledby'));\n  button.ariaSelected = true;\n}\n\nconst orderNumber = classList => {\n  if (classList.contains('mobile-order-1')) return 0;\n  if (classList.contains('mobile-order-2')) return 1;\n  if (classList.contains('mobile-order-3')) return 2;\n  return -1;\n};\nfunction openPanel(panel, prevPanel) {\n  panel.style.display = 'block';\n  const columns = panel.querySelectorAll('.wp-block-column');\n  columns.forEach((column, index) => {\n    const order = orderNumber(column.classList);\n    const multiplier = order >= 0 && mobile ? order : index;\n    column.style.opacity = 0;\n    if (mobile) {\n      if (prevPanel) {\n        const panelIndex = parseInt(panel.dataset.index);\n        const prevPanelIndex = parseInt(prevPanel.dataset.index);\n        if (panelIndex > prevPanelIndex) {\n          column.style.transform = `translateX(${transform}px)`;\n        } else {\n          column.style.transform = `translateX(-${transform}px)`;\n        }\n      }\n    } else {\n      column.style.transform = `translateY(${transform}px)`;\n    }\n    column.style.transition = `${transition / 1000}s`;\n    setTimeout(() => {\n      column.style.opacity = 1;\n      column.style.transform = 'translateY(0px)';\n    }, delay * multiplier + 1);\n  });\n  panel.classList.remove('closed');\n  panel.classList.add('opening');\n  setTimeout(() => {\n    panel.classList.remove('opening');\n    panel.classList.add('open');\n  }, transition + delay * 2);\n}\n\nfunction unSelectTab(panel) {\n  const button = document.getElementById(panel.getAttribute('aria-labelledby'));\n  button.ariaSelected = false;\n}\nfunction closePanel(panel, newPanel) {\n  panel.classList.remove('open');\n  panel.classList.add('closing');\n  const columns = panel.querySelectorAll('.wp-block-column');\n  columns.forEach((column, index) => {\n    const order = orderNumber(column.classList);\n    const multiplier = order >= 0 && mobile ? order : index;\n    setTimeout(() => {\n      column.style.opacity = 0;\n      if (mobile) {\n        if (newPanel) {\n          const panelIndex = parseInt(panel.dataset.index);\n          const newPanelIndex = parseInt(newPanel.dataset.index);\n          if (panelIndex > newPanelIndex) {\n            column.style.transform = `translateX(${transform}px)`;\n          } else {\n            column.style.transform = `translateX(-${transform}px)`;\n          }\n        }\n      } else {\n        column.style.transform = `translateY(${transform}px)`;\n      }\n      setTimeout(() => {\n        column.style.transition = 'none';\n      }, transition);\n    }, delay * multiplier);\n  });\n\n  setTimeout(() => {\n    panel.style.display = 'none';\n    panel.classList.remove('closing');\n    panel.classList.add('closed');\n  }, transition + delay * 2);\n}\n"],"names":["getSize","Name","size","name","toLowerCase","document","window","documentElement","undefined","bodyElement","createElement","id","style","cssText","divElement","innerHTML","appendChild","insertBefore","head","removeChild","module","exports","getHeight","getWidth","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","contentTabs","querySelectorAll","mobile","viewportSize","wp","domReady","forEach","tabs","panels","disabled","panel","index","getBoundingClientRect","setProperty","height","dataset","classList","add","openPanel","selectTab","tab","addEventListener","e","panelId","getAttribute","querySelector","contains","prevOpenPanel","Array","from","filter","newPanel","remove","column","order","orderNumber","setTimeout","opacity","panelIndex","parseInt","newPanelIndex","transform","transition","delay","display","closePanel","getElementById","ariaSelected","unSelectTab","prevPanel","multiplier","prevPanelIndex"],"sourceRoot":""}